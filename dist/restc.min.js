/*! restc.js v1.0.0 MIT License By Yimi https://github.com/yimicat */
!function(){"use strict";var t=function(){this.options={},this.options.defaults={baseUrl:null,async:!0,dataType:"json",timeout:0,contentType:"application/json;charset=UTF-8",headers:{accept:"application/json;charset=UTF-8"},beforeCall:function(){},afterCall:function(){},success:null,error:null}},n=function(t,n,o){for(var e,r="";t.length>0;)e=t.match(n),e?(r+=t.slice(0,e.index),r+=o(e).toString(),t=t.slice(e.index+e[0].length)):(r+=t,t="");return r},o=function(t,o){var e=$.extend(!0,{},o),r=[],i=t?n(t,/\{(.+?)\}/,function(t){var n=t[1],o=e[n];return void 0!==o&&null!==o||$.error("Can't found '"+n+"' from urlParams."),r.push(n),encodeURIComponent(o)}):"";return i},e=function(t,n){var e=this,r=o(n.url,n.param),i=$.extend(!0,{},e.options,n);return i.beforeCall.call(this),$.ajax({url:e.options.baseUrl+r,data:i.data,type:t,timeout:e.options.timeout,dataType:"json",success:function(t,n,o){i.success.call(this,t,n,o)},error:function(t,n,o){i.error.call(this,t,n,o)},complete:function(t){i.afterCall.call(this,t)}})};return t.prototype.setOptions=function(t){this.options=$.extend(!0,this.options.defaults,t)},t.prototype.getOptions=function(){return this.options},t.prototype.get=function(t){return e.call(this,"GET",t)},t.prototype.put=function(t){return e.call(this,"PUT",t)},t.prototype.del=function(t){return e.call(this,"DELETE",t)},t.prototype.post=function(t){return e.call(this,"POST",t)},t.prototype.patch=function(t){return e.call(this,"PATCH",t)},window.restc?window.restc:window.restc=new t}();